type ping  = +{pin : &{pon : ping}}

proc p1 : (x : ping) |- (sink : 1) =
  case x
  ( pin => x.pon; sink <- p1 <- x
  )