proc transaction bid_jan : . |{*}- ($d : 1) =
{
  #a : auction <- Nomos.MakeChannel 3 ;
  let n = 100 ;
  $m <- money_proc n ;
  $la <- acquire #a ;
  pay $la {*} ;
  case $la (
    running => send $la $m ;
               get $la {*} ;
               #a <- release $la ;
               deposit {*} ;
               close $d
  | ended => abort
  | terminated => abort
  )
}

exec bid_jan